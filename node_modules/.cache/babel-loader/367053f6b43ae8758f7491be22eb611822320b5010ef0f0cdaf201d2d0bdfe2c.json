{"ast":null,"code":"import { hookData as $a074e1e2d0f0a665$export$653eddfc964b0f8a, useSelectedDateDescription as $a074e1e2d0f0a665$export$b6df97c887c38e1a, useVisibleRangeDescription as $a074e1e2d0f0a665$export$31afe65d91ef6e8 } from \"./utils.mjs\";\nimport $g2t6q$intlStringsmodulejs from \"./intlStrings.mjs\";\nimport { announce as $g2t6q$announce } from \"@react-aria/live-announcer\";\nimport { filterDOMProps as $g2t6q$filterDOMProps, useUpdateEffect as $g2t6q$useUpdateEffect, useSlotId as $g2t6q$useSlotId, useLabels as $g2t6q$useLabels, mergeProps as $g2t6q$mergeProps } from \"@react-aria/utils\";\nimport { useLocalizedStringFormatter as $g2t6q$useLocalizedStringFormatter } from \"@react-aria/i18n\";\nimport { useState as $g2t6q$useState } from \"react\";\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction $c4acc1de3ab169cf$export$d652b3ea2d672d5b(props, state) {\n  let stringFormatter = (0, $g2t6q$useLocalizedStringFormatter)((0, $parcel$interopDefault($g2t6q$intlStringsmodulejs)), '@react-aria/calendar');\n  let domProps = (0, $g2t6q$filterDOMProps)(props);\n  let title = (0, $a074e1e2d0f0a665$export$31afe65d91ef6e8)(state.visibleRange.start, state.visibleRange.end, state.timeZone, false);\n  let visibleRangeDescription = (0, $a074e1e2d0f0a665$export$31afe65d91ef6e8)(state.visibleRange.start, state.visibleRange.end, state.timeZone, true);\n  // Announce when the visible date range changes\n  (0, $g2t6q$useUpdateEffect)(() => {\n    // only when pressing the Previous or Next button\n    if (!state.isFocused) (0, $g2t6q$announce)(visibleRangeDescription);\n  }, [visibleRangeDescription]);\n  // Announce when the selected value changes\n  let selectedDateDescription = (0, $a074e1e2d0f0a665$export$b6df97c887c38e1a)(state);\n  (0, $g2t6q$useUpdateEffect)(() => {\n    if (selectedDateDescription) (0, $g2t6q$announce)(selectedDateDescription, 'polite', 4000);\n    // handle an update to the caption that describes the currently selected range, to announce the new value\n  }, [selectedDateDescription]);\n  let errorMessageId = (0, $g2t6q$useSlotId)([Boolean(props.errorMessage), props.isInvalid, props.validationState]);\n  // Pass the label to the child grid elements.\n  (0, $a074e1e2d0f0a665$export$653eddfc964b0f8a).set(state, {\n    ariaLabel: props['aria-label'],\n    ariaLabelledBy: props['aria-labelledby'],\n    errorMessageId: errorMessageId,\n    selectedDateDescription: selectedDateDescription\n  });\n  // If the next or previous buttons become disabled while they are focused, move focus to the calendar body.\n  let [nextFocused, setNextFocused] = (0, $g2t6q$useState)(false);\n  let nextDisabled = props.isDisabled || state.isNextVisibleRangeInvalid();\n  if (nextDisabled && nextFocused) {\n    setNextFocused(false);\n    state.setFocused(true);\n  }\n  let [previousFocused, setPreviousFocused] = (0, $g2t6q$useState)(false);\n  let previousDisabled = props.isDisabled || state.isPreviousVisibleRangeInvalid();\n  if (previousDisabled && previousFocused) {\n    setPreviousFocused(false);\n    state.setFocused(true);\n  }\n  let labelProps = (0, $g2t6q$useLabels)({\n    id: props['id'],\n    'aria-label': [props['aria-label'], visibleRangeDescription].filter(Boolean).join(', '),\n    'aria-labelledby': props['aria-labelledby']\n  });\n  return {\n    calendarProps: (0, $g2t6q$mergeProps)(domProps, labelProps, {\n      role: 'application',\n      'aria-describedby': props['aria-describedby'] || undefined\n    }),\n    nextButtonProps: {\n      onPress: () => state.focusNextPage(),\n      'aria-label': stringFormatter.format('next'),\n      isDisabled: nextDisabled,\n      onFocusChange: setNextFocused\n    },\n    prevButtonProps: {\n      onPress: () => state.focusPreviousPage(),\n      'aria-label': stringFormatter.format('previous'),\n      isDisabled: previousDisabled,\n      onFocusChange: setPreviousFocused\n    },\n    errorMessageProps: {\n      id: errorMessageId\n    },\n    title: title\n  };\n}\nexport { $c4acc1de3ab169cf$export$d652b3ea2d672d5b as useCalendarBase };","map":{"version":3,"names":["$c4acc1de3ab169cf$export$d652b3ea2d672d5b","props","state","stringFormatter","$g2t6q$useLocalizedStringFormatter","$parcel$interopDefault","$g2t6q$intlStringsmodulejs","domProps","$g2t6q$filterDOMProps","title","$a074e1e2d0f0a665$export$31afe65d91ef6e8","visibleRange","start","end","timeZone","visibleRangeDescription","$g2t6q$useUpdateEffect","isFocused","$g2t6q$announce","selectedDateDescription","$a074e1e2d0f0a665$export$b6df97c887c38e1a","errorMessageId","$g2t6q$useSlotId","Boolean","errorMessage","isInvalid","validationState","$a074e1e2d0f0a665$export$653eddfc964b0f8a","set","ariaLabel","ariaLabelledBy","nextFocused","setNextFocused","$g2t6q$useState","nextDisabled","isDisabled","isNextVisibleRangeInvalid","setFocused","previousFocused","setPreviousFocused","previousDisabled","isPreviousVisibleRangeInvalid","labelProps","$g2t6q$useLabels","id","filter","join","calendarProps","$g2t6q$mergeProps","role","undefined","nextButtonProps","onPress","focusNextPage","format","onFocusChange","prevButtonProps","focusPreviousPage","errorMessageProps"],"sources":["/Users/mario/Documents/Development/portfolio/node_modules/@react-aria/calendar/dist/packages/@react-aria/calendar/src/useCalendarBase.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {announce} from '@react-aria/live-announcer';\nimport {AriaButtonProps} from '@react-types/button';\nimport {AriaLabelingProps, DOMAttributes, DOMProps} from '@react-types/shared';\nimport {CalendarPropsBase} from '@react-types/calendar';\nimport {CalendarState, RangeCalendarState} from '@react-stately/calendar';\nimport {filterDOMProps, mergeProps, useLabels, useSlotId, useUpdateEffect} from '@react-aria/utils';\nimport {hookData, useSelectedDateDescription, useVisibleRangeDescription} from './utils';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport {useLocalizedStringFormatter} from '@react-aria/i18n';\nimport {useState} from 'react';\n\nexport interface CalendarAria {\n  /** Props for the calendar grouping element. */\n  calendarProps: DOMAttributes,\n  /** Props for the next button. */\n  nextButtonProps: AriaButtonProps,\n  /** Props for the previous button. */\n  prevButtonProps: AriaButtonProps,\n  /** Props for the error message element, if any. */\n  errorMessageProps: DOMAttributes,\n  /** A description of the visible date range, for use in the calendar title. */\n  title: string\n}\n\nexport function useCalendarBase(props: CalendarPropsBase & DOMProps & AriaLabelingProps, state: CalendarState | RangeCalendarState): CalendarAria {\n  let stringFormatter = useLocalizedStringFormatter(intlMessages, '@react-aria/calendar');\n  let domProps = filterDOMProps(props);\n\n  let title = useVisibleRangeDescription(state.visibleRange.start, state.visibleRange.end, state.timeZone, false);\n  let visibleRangeDescription = useVisibleRangeDescription(state.visibleRange.start, state.visibleRange.end, state.timeZone, true);\n\n  // Announce when the visible date range changes\n  useUpdateEffect(() => {\n    // only when pressing the Previous or Next button\n    if (!state.isFocused) {\n      announce(visibleRangeDescription);\n    }\n  }, [visibleRangeDescription]);\n\n  // Announce when the selected value changes\n  let selectedDateDescription = useSelectedDateDescription(state);\n  useUpdateEffect(() => {\n    if (selectedDateDescription) {\n      announce(selectedDateDescription, 'polite', 4000);\n    }\n    // handle an update to the caption that describes the currently selected range, to announce the new value\n  }, [selectedDateDescription]);\n\n  let errorMessageId = useSlotId([Boolean(props.errorMessage), props.isInvalid, props.validationState]);\n\n  // Pass the label to the child grid elements.\n  hookData.set(state, {\n    ariaLabel: props['aria-label'],\n    ariaLabelledBy: props['aria-labelledby'],\n    errorMessageId,\n    selectedDateDescription\n  });\n\n  // If the next or previous buttons become disabled while they are focused, move focus to the calendar body.\n  let [nextFocused, setNextFocused] = useState(false);\n  let nextDisabled = props.isDisabled || state.isNextVisibleRangeInvalid();\n  if (nextDisabled && nextFocused) {\n    setNextFocused(false);\n    state.setFocused(true);\n  }\n\n  let [previousFocused, setPreviousFocused] = useState(false);\n  let previousDisabled = props.isDisabled || state.isPreviousVisibleRangeInvalid();\n  if (previousDisabled && previousFocused) {\n    setPreviousFocused(false);\n    state.setFocused(true);\n  }\n\n  let labelProps = useLabels({\n    id: props['id'],\n    'aria-label': [props['aria-label'], visibleRangeDescription].filter(Boolean).join(', '),\n    'aria-labelledby': props['aria-labelledby']\n  });\n\n  return {\n    calendarProps: mergeProps(domProps, labelProps, {\n      role: 'application',\n      'aria-describedby': props['aria-describedby'] || undefined\n    }),\n    nextButtonProps: {\n      onPress: () => state.focusNextPage(),\n      'aria-label': stringFormatter.format('next'),\n      isDisabled: nextDisabled,\n      onFocusChange: setNextFocused\n    },\n    prevButtonProps: {\n      onPress: () => state.focusPreviousPage(),\n      'aria-label': stringFormatter.format('previous'),\n      isDisabled: previousDisabled,\n      onFocusChange: setPreviousFocused\n    },\n    errorMessageProps: {\n      id: errorMessageId\n    },\n    title\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}